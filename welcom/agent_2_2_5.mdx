---
title: "ナレッジベース検索"
---

## **ナレッジベース検索**

![](https://uxkpl4cba3j.feishu.cn/space/api/box/stream/download/asynccode/?code=NTY0N2MzY2I0MDAzZjM4MTdlYjZmZWFmNTc1NGM3ZjRfZWh1SEFvR0Z2MWtVMlNaUzRLNVBhdVR4eFVvYTJ6ZGhfVG9rZW46UEFWZGJRNEFwb29vc3F4a09PcmNZUkp3blZnXzE3NDI5OTcwMDM6MTc0MzAwMDYwM19WNA)

**モジュール概要**

頻出するユーザー入力をナレッジベースに登録することにより、検索・参照を容易にする

本モジュールでは、ユーザー入力により、ナレッジベース内から関連する質問と回答を検索し、自然な文章で出力する

**模块参数**

| パラメータ名            | データ形式        | 機能説明                                                                                                                                                                           |
| ----------------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **連動アクティベーション**   | ブール型         | 本ノードは複数のブール型入力を接続可能。**全ての条件が `true`&#x20;**&#x20;の場合に本モジュールを実行（例：　「すべての条件が満たされた場合に実行」 ）                                                                                        |
| **任意条件アクティベーション** | ブール型         | 本ノードは複数のブール型入力を接続可能。**いずれか1つでも条件が `true`&#x20;**&#x306E;場合に本モジュールを実行（例：　「いずれか1つでも条件を満した場合に実行」 ）                                                                                |
| **情報入力**          | 文字列型         | 前の処理で生成されたテキストをAIモデルに入力                                                                                                                                                        |
| **関連ナレッジベース**     | -            | 検索を行うナレッジベースを指定する（最大5つまで設定可能）                                                                                                                                                  |
| **類似度しきい値**       | -            | ユーザーの入力とナレッジベース内のテキストの類似度をスコア化し、しきい値を下回る場合、そのテキストは検索結果から除外される                                                                                                                  |
| **ベクトル検索の影響度**    | -            | ・キーワード検索とベクトル検索を組み合わせた類似度スコアを調整するためのパラメータ・両者の合計は1になる（例：ベクトル検索の重みが0.9なら、キーワード検索の重みは0.1）・デフォルトではベクトル検索の重みは1（＝ベクトル検索のみを使用）・名前・住所・番号などの明確なキーワードが含まれる場合は、キーワード検索の重みを増やすことで検索精度を向上可能 |
| **検索結果数**         | -            | ・設定した類似度しきい値を満たす検索結果を、スコアの高い順に取得例：検索で10件ヒットした場合、設定値が2なら、スコア上位2件のみを出力                                                                                                           |
| **検索結果の最適化**      | -            | ・検索結果を再評価し、ユーザー入力との関連性が最も高い順に並べ替え・検索結果の精度と関連性を向上させ、より確度の高い情報を提供※本モジュールは処理負荷が高く、検索速度が低下する可能性がある                                                                                 |
| **最適化モデル**        | -            | `bce-rerank` モデルを選択可能                                                                                                                                                          |
| **最適化する検索結果数**    | -            | 最適化モデルのスコアに基づき、検索結果を最も関連性の高い順に並べ替え                                                                                                                                             |
| **関連情報該当なし時の処理**  | ブール型         | ナレッジベースに関連情報が見つからなかった場合に、次のアクションを指定可能                                                                                                                                          |
| **関連情報該当あり時の処理**  | ブール型         | ナレッジベースに関連情報が見つかった場合に、次のアクションを指定可能                                                                                                                                             |
| **ナレッジベース検索結果**   | ナレッジベース検索結果型 | 検索結果を配列形式で出力                                                                                                                                                                   |
| **モジュール実行完了**     | ブール型         | **本モジュールの実行完了時、出力値は `True` となる**（通常、次処理を開始するためのトリガーとして使用）                                                                                                                      |

