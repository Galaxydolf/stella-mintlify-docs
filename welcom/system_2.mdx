モデル管理は、エージェントの実行に必要な各種モデルを統合的に設定するページです。このページでは、モデルの選択、追加、設定、削除などを行うことができます。設定済みのモデルは、エージェントやナレッジベースの処理プロセスにおいて選択・使用することができます。



## 機能アクセス

管理者アカウントで管理バックエンドにログインし、「システム管理」-「モデル構成」を選択すると、アクセスできます。

<img
  src="/images/84.png"
/>



## 追加方法

### 1、主要モデルの追加

プラットフォームは、OpenAI / Claude / Gemini などの主要モデルを直接追加および設定することをサポートしています。設定ページで、追加したいモデルを選択します。ここでは Gemini を例に挙げます。

<img
  src="/images/85.png"
/>



ポップアップ表示される設定ボックスで、関連するパラメータを設定します。



<img
  src="/images/86.png"
/>

| **項目名**               | **必須項目** | **設定説明**                                                                                                                                                                                                                                                                                                                        |
| --------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **モデルロゴ**             | 必須       | モデル選択時に素早く識別できるよう、該当するモデルのロゴを選択します。既存モデルを素早く追加した場合、この項目はデフォルトでそのモデルのロゴになります。                                                                                                                                                                                                                                                    |
| **モデルタイプ**            | 必須       | 追加するモデルのタイプに応じて選択します。・**会話モデル**：AIチャット、情報抽出、情報分類などのモジュールで使用され、テキストコンテンツを処理します。・**画像生成モデル**：「画像生成ツール」モジュールで使用され、自然言語に基づいて画像を生成します。・**テキストベクトルモデル**：ナレッジベース機能で、テキストスライスをベクトル化し類似度計算を行う際に使用されます。ナレッジベース追加時にカスタムテキストベクトルモデルを選択できます。・**リランキングモデル**：「ナレッジベース検索」モジュールで、検索結果のリランキング機能に使用されるモデルです。リランキングを追加することで、ナレッジベース検索結果の精度がさらに向上します |
| **モデルファミリー**          | 任意       | 各モデルには、多くの場合、異なるコンテキストやパラメータ数を持つ複数の種類があります。この項目では、そのモデルが持つ異なる種類のモデルのデフォルト設定パラメータを提供し、選択すると以下のフィールド情報が自動入力されます。選択しない場合は、以下のフィールド情報を手動で入力する必要があります。                                                                                                                                                                               |
| **Visionをサポートするかどうか** | 必須       | このモデルが視覚認識（マルチモーダル）機能をサポートするかどうかを設定します。                                                                                                                                                                                                                                                                                         |
| **モデル名**              | 必須       | このモデルの名称を設定します。この名称はモデル選択ページに表示されます。                                                                                                                                                                                                                                                                                            |
| **モデル選択**             | 必須       | このモジュールの実行に使用する大規模言語モデルを選択します。異なるモジュールで異なる大規模言語モデルを選択して処理することができます。                                                                                                                                                                                                                                                             |
| **モデルコード**            | 必須       | API経由でこのモデルを呼び出す際に必要なモデルコードです。詳細はプラットフォームのAPIドキュメントをご確認ください。                                                                                                                                                                                                                                                                    |
| **モデルコンテキストの長さ**      | 必須       | このモデルのコンテキスト長を入力します。モデルが実際にサポートするコンテキスト長に基づいて入力してください。                                                                                                                                                                                                                                                                          |
| **最大トークン上限**          | 必須       | このモデルの最大トークン上限を入力します。モデルが実際にサポートする最大トークン上限に基づいて入力してください。                                                                                                                                                                                                                                                                        |
| **apiUrl**            | 一部モデルで必須 | API経由でこのモデルを呼び出す際のAPIアドレスです。詳細はプラットフォームのAPIドキュメントをご確認ください。                                                                                                                                                                                                                                                                      |
| **apiKey**            | 必須       | API経由でこのモデルを呼び出す際に必要なAPIキーです。詳細はプラットフォームのAPIドキュメントをご確認ください。                                                                                                                                                                                                                                                                     |
| **includeUsage**      | 一部モデルで必須 | OpenAIの基準に基づき、一部のモデルでこのフィールドの設定が必要です。詳細はプラットフォームのAPIドキュメントをご確認ください。                                                                                                                                                                                                                                                             |

パラメータを設定後、「**決定**」をクリックすると、そのモデルの追加が完了します。



### 2. カスタムモデルの追加

プラットフォームが提供する主要モデル以外にも、標準のOpenAPIプロトコルをサポートする他のモデルや、プライベートクラウド環境にデプロイされたモデルの接続もサポートしています。「モデル管理」ページの右上にある「**カスタムモデルを追加**」をクリックして設定を行ってください。

<img
  src="/images/87.png"
/>

ポップアップ表示される設定ボックスで、関連するパラメータを設定します。

<img
  src="/images/88.png"
/>

| **項目名**               | **必須項目** | **設定説明**                                                                                                                                                                                                                                                                                                                        |
| --------------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **モデルロゴ**             | 必須       | モデル選択時に素早く識別できるよう、該当するモデルのロゴを選択します。既存モデルを素早く追加した場合、この項目はデフォルトでそのモデルのロゴになります。                                                                                                                                                                                                                                                    |
| **モデルタイプ**            | 必須       | 追加するモデルのタイプに応じて選択します。・**会話モデル**：AIチャット、情報抽出、情報分類などのモジュールで使用され、テキストコンテンツを処理します。・**画像生成モデル**：「画像生成ツール」モジュールで使用され、自然言語に基づいて画像を生成します。・**テキストベクトルモデル**：ナレッジベース機能で、テキストスライスをベクトル化し類似度計算を行う際に使用されます。ナレッジベース追加時にカスタムテキストベクトルモデルを選択できます。・**リランキングモデル**：「ナレッジベース検索」モジュールで、検索結果のリランキング機能に使用されるモデルです。リランキングを追加することで、ナレッジベース検索結果の精度がさらに向上します |
| **モデルファミリー**          | 任意       | 各モデルには、多くの場合、異なるコンテキストやパラメータ数を持つ複数の種類があります。この項目では、そのモデルが持つ異なる種類のモデルのデフォルト設定パラメータを提供し、選択すると以下のフィールド情報が自動入力されます。選択しない場合は、以下のフィールド情報を手動で入力する必要があります。                                                                                                                                                                               |
| **Visionをサポートするかどうか** | 必須       | このモデルが視覚認識（マルチモーダル）機能をサポートするかどうかを設定します。                                                                                                                                                                                                                                                                                         |
| **モデル名**              | 必須       | このモデルの名称を設定します。この名称はモデル選択ページに表示されます。                                                                                                                                                                                                                                                                                            |
| **モデル選択**             | 必須       | このモジュールの実行に使用する大規模言語モデルを選択します。異なるモジュールで異なる大規模言語モデルを選択して処理することができます。                                                                                                                                                                                                                                                             |
| **モデルコード**            | 必須       | API経由でこのモデルを呼び出す際に必要なモデルコードです。詳細はプラットフォームのAPIドキュメントをご確認ください。                                                                                                                                                                                                                                                                    |
| **モデルコンテキストの長さ**      | 必須       | このモデルのコンテキスト長を入力します。モデルが実際にサポートするコンテキスト長に基づいて入力してください。                                                                                                                                                                                                                                                                          |
| **最大トークン上限**          | 必須       | このモデルの最大トークン上限を入力します。モデルが実際にサポートする最大トークン上限に基づいて入力してください。                                                                                                                                                                                                                                                                        |
| **apiUrl**            | 必須       | API経由でこのモデルを呼び出す際のAPIアドレスです。詳細はプラットフォームのAPIドキュメントをご確認ください。                                                                                                                                                                                                                                                                      |
| **apiKey**            | 任意       | API経由でこのモデルを呼び出す際に必要なAPIキーです。詳細はプラットフォームのAPIドキュメントをご確認ください。                                                                                                                                                                                                                                                                     |
| **includeUsage**      | 任意       | OpenAIの基準に基づき、一部のモデルでこのフィールドの設定が必要です。詳細はプラットフォームのAPIドキュメントをご確認ください。                                                                                                                                                                                                                                                             |
| **fullUrl**           | 任意       | リランキングモデルの設定項目については、対応するAPIパスを提供してください。詳細はプラットフォームのAPIドキュメントをご確認ください。                                                                                                                                                                                                                                                           |

パラメータを設定後、「**決定**」をクリックすると、そのモデルの追加が完了します。





## モデルテスト

モデルの追加後、上記のモデルリストで現在プラットフォームに追加されているモデルを確認でき、エージェント／ナレッジベースのシナリオで呼び出しや使用が可能です。

<img
  src="/images/89.png"
/>

上記は例であり、実際のモデル追加に従ってください。



#### 　**テキストモデルテスト**

トップページで新規エージェントを作成した後、「スマートチャット」モジュールで「モデルを選択」し、先ほど追加したモデルに切り替えて保存すると、会話テストを行うことができます。

<img
  src="/images/90.png"
/>





#### **画像生成モデルテスト**

トップページで新規エージェントを作成した後、「画像生成ツール」モジュールで「モデルを選択」し、先ほど追加したモデルに切り替えて保存すると、会話テストを行うことができます。

<img
  src="/images/91.png"
/>





#### **テキストベクトルモデルテスト**

「ナレッジベース」で新規ナレッジベースを作成する際、「手動」設定を選択すると、ベクトルモデルの箇所で追加済みのモデルを選択できます。

次に保存をクリックした後、ドキュメントファイルをアップロードしてベクトル化解析を行い、当該ベクトルモデルをテストできます。

<img
  src="/images/92.png"
/>





#### **リランキングモデルテスト**

ドキュメントファイルがアップロード済みのナレッジベースに入り、左側の「検索テスト」をクリックし、「リランキングモデル」を有効にして、先ほど追加したリランキングモデルを選択すると、関連するテストテキストを入力してテストを行うことができます。

<img
  src="/images/93.png"
/>

